<div class="container mx-auto py-6 px-4">
  <header class="mb-6">
    <h1 class="text-3xl font-bold text-gray-900 mb-1">Admin Panel</h1>
    <p class="text-gray-600">Manage users and application settings.</p>
  </header>

  <!-- Error Message -->
  <div *ngIf="usersError$ | async" class="bg-red-50 border border-red-200 rounded-md p-4 mb-6" role="alert">
    <div class="flex justify-between items-center">
      <p class="text-sm font-medium text-red-800">{{ usersError$ | async }}</p>
      <button class="text-sm underline" (click)="clearError()">Dismiss</button>
    </div>
  </div>

  <!-- Users Table -->
  <app-user-table [users]="usersList" [loading]="usersLoading$ | async">
  </app-user-table>

  <!-- Statistics -->
  <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mt-6">
    <app-statistics-card title="Total Users" [count]="usersList.length" color="blue"></app-statistics-card>
    <app-statistics-card title="Active Users" [count]="getActiveUsersCount()" color="green"></app-statistics-card>
    <app-statistics-card title="Companies" [count]="getCompaniesCount()" color="purple"></app-statistics-card>
  </div>
</div>